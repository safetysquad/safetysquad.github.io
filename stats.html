<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Statistik â€“ SAFETY SQUAD</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/style.css">
</head>

<body>
<div class="app">
<header>
  <div class="logo">
    <img src="logo.png" alt="Logo">
  </div>
  <div class="header-buttons">
  <button id="back-button">â¬…</button>
  <button id="theme-toggle">ğŸŒ“</button>
  </div>

</header>
<main>

  <!-- ================= SET 1 â€“ Lernkarteikarten ================= -->
  <h2 style="text-align:center;">ğŸ“š Lernkarteikarten</h2>
  <div class="stats">
    <div>ğŸ“„ Gesamt<br><b id="totalCards1">0</b></div>
    <div>âœ… Erledigt<br><b id="doneCards1">0</b></div>
    <div>â­ Merkliste<br><b id="markCards1">0</b></div>
  </div>
  <div class="progress">
    <div class="progress-bar" id="progressBar1"></div>
  </div>
  <p style="text-align:center; font-size:.9rem;">
    Fortschritt: <b id="progressPercent1">0%</b>
  </p>
  <button class="btn danger" onclick="resetProgress('cards')">
    ğŸ§¹ Lernfortschritt zurÃ¼cksetzen
  </button>

  <hr style="margin:2rem 0; opacity:.2;">

  <!-- ================= SET 2 â€“ Strafrecht Â§ ================= -->
 <h2 style="text-align:center;">ğŸ“ Strafrecht Â§ & TatbestÃ¤nde</h2>
  <div class="stats">
    <div>ğŸ“„ Gesamt<br><b id="totalCards2">0</b></div>
    <div>âœ… Erledigt<br><b id="doneCards2">0</b></div>
    <div>â­ Merkliste<br><b id="markCards2">0</b></div>
  </div>
  <div class="progress">
    <div class="progress-bar" id="progressBar2"></div>
  </div>
  <p style="text-align:center; font-size:.9rem;">
    Fortschritt: <b id="progressPercent2">0%</b>
  </p>
  <button class="btn danger" onclick="resetProgress('cards1')">
    ğŸ§¹ Lernfortschritt zurÃ¼cksetzen
  </button>

  <hr style="margin:2rem 0; opacity:.2;">

  <!-- ================= QUIZ ================= -->
  <h2 style="text-align:center;">ğŸ“ Quiz-Statistik</h2>
  <div id="quizStats" class="stats quiz-stats-grid" style="margin-top:1rem;"></div>
  <button class="btn danger" onclick="resetQuizStats()">
    ğŸ§¹ Quiz-Statistik zurÃ¼cksetzen
  </button>
</main>

</div>

<!-- ================= SCRIPTE ================= -->
<script src="js/data.js"></script>
<script src="js/strafrechtbesondererteil.js"></script>
<script src="js/script.js"></script>
<script src="css/theme.js"></script>
<script>
  // ================= RENDER STATISTIK GETRENNT =================
  function renderStatsSet(setName, prefix) {
    const cardsSet = setName === 'cards1' ? cards1 : cards;
    const done = JSON.parse(localStorage.getItem(`${setName}_doneCards`)) || [];
    const marked = JSON.parse(localStorage.getItem(`${setName}_markedCards`)) || [];
    const total = cardsSet.length;
    const percent = total === 0 ? 0 : Math.round((done.length / total) * 100);

    document.getElementById(`totalCards${prefix}`).textContent = total;
    document.getElementById(`doneCards${prefix}`).textContent = done.length;
    document.getElementById(`markCards${prefix}`).textContent = marked.length;
    document.getElementById(`progressPercent${prefix}`).textContent = percent + "%";
    document.getElementById(`progressBar${prefix}`).style.width = percent + "%";
  }

  function resetProgress(setName) {
    if (!confirm("Willst du wirklich ALLES zurÃ¼cksetzen?")) return;
    localStorage.removeItem(`${setName}_doneCards`);
    localStorage.removeItem(`${setName}_markedCards`);
    location.reload();
  }

  document.addEventListener("DOMContentLoaded", () => {
    renderStatsSet('cards', 1);
    renderStatsSet('cards1', 2);
    renderQuizStats();
  });
document.getElementById("back-button").addEventListener("click", () => {
  window.history.back();
});
document.getElementById("back-button").addEventListener("click", () => {
  if (document.referrer) {
    window.history.back();
  } else {
    window.location.href = "index.html"; // Startseite
  }
});

</script>

</body>
</html>
